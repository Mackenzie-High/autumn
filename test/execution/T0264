module Main in execution;

tuple Group (x : String, y : String, z : String);


@Start
defun main (args : String[]) : void
{
    delegate method : MethodIterator => My::handler;

    val p = new Group("Jetty", "Fluffy", "Molly");

    val q = Records::bindStr(p, method);

    val list = [];

    foreach (name : String in q)
    {
        list.add(name);
    }

    assert list == ["Jetty", "Fluffy", "Molly"];
}

defun handler (self : Group) : Iterator
{
    return [self.x(), self.y(), self.z()].iterator();
}