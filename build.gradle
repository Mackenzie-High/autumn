
/**
 * NetBeans automatically generates an Ant build script, 
 * so we will simply use that script to compile Autumn. 
 */
ant.importBuild 'build.xml'



/**
 * Invoke this task in order to compile Autumn. 
 */
task build (dependsOn: '-do-compile') << {
        // Compilation is actually performed by the -do-compile Ant task. 
}



/**
 * Invoke this task in order to generate the autumn.jar file. 
 */
task buildJar (dependsOn: 'build') << {

}



/**
 * Invoke this task in order to build a the autumn-latest.zip file. 
 */
task buildDistro (dependsOn: 'buildJar') << {

    def stdout = new ByteArrayOutputStream()

    exec {
        commandLine "bash", "./build-distro.sh"
        standardOutput = stdout
    }

    println "$stdout";
}



/**
 * Invoke this task to generate the parser and abstract-syntax-tree classes.
 *
 * This task requires that the generate-structs program is installed on the computer.
 * That program is only available to Mackenzie High, because it is a proprietary program.
 * In short, this task is only useful when used by Mackenzie High. 
 * This may change in the future. 
 */
task buildParser << {

    def stdout = new ByteArrayOutputStream()

    exec {
        commandLine "bash", "./build-parser.sh"
        standardOutput = stdout
    }

    println "$stdout";
    
}


/**
 * Invoke this task in order to run all of the unit-tests. 
 */
task runTests << {

    

}

/**
 * Invoke this task in order to generate the API Javadoc and the language specification. 
 */
task document << < {

    // TODO: implement

}

/**
 * Invoke this task in order to compile and upload the latest version of Autumn and its documentation to GitHub.
 */ 
task upload << {

    // TODO: implement me

}



















