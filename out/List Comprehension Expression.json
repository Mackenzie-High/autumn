{ "summary" : "A list-comprehension creates a new mutable list based on another iterable data-structure.", "ast" : "autumn.lang.compiler.ast.nodes.ListComprehensionExpression", "syntax" : [[E-32, "[ <i><a href=\"TextPage.html?page=Expression\">modifier</a></i> <span class=\"keyword\">for</span> <a href=\"ConstructPage.html?construct=Variable\">assignee</a> : <a href=\"ConstructPage.html?construct=TypeSpecifier\">type</a> in <a href=\"TextPage.html?page=Expression\">iterable</a> ]"], [E-32, "<hr class=&#92%22syntax-hr&#92%22>"], [E-32, "[ <i><a href=\"TextPage.html?page=Expression\">modifier</a></i> <span class=\"keyword\">for</span> <a href=\"ConstructPage.html?construct=Variable\">assignee</a> : <a href=\"ConstructPage.html?construct=TypeSpecifier\">type</a> in <a href=\"TextPage.html?page=Expression\">iterable</a> <span class=\"keyword\">if</span> <a href=\"TextPage.html?page=Expression\">condition</a> ]"]], "details" : [[E-32, "Algorithm:"], [1, "Let <i>L</i> be a new <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\">LinkedList</a>."], [1, "Let <i>E</i> denote the value produced by evaluating <i>iterable</i>."], [1, "If <i>E</i> is null, throw a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html\">NullPointerException</a>."], [1, "For each value <i>X</i> in <i>E</i> do:"], [2, "Let <i>T</i> be the type specified by <i>type</i>."], [2, "If <i>X</i> cannot be cast to <i>T</i>, throw a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html\">ClassCastException</a>."], [2, "Let <i>V</i> be the local variable specified by <i>assignee</i>."], [2, "Assign <i>X</i> to <i>V</i>."], [2, "If there is a <i>condition</i> then:"], [3, "Let <i>C</i> be the value produced by evaluating the condition."], [3, "Unbox <i>C</i>, if necessary."], [3, "If <i>C</i> is false, then immediately start the next iteration of the loop."], [2, "Let <i>M</i> be the value produced by evaluating the <i>modifier</i>."], [2, "Box <i>M</i>, if necessary."], [2, "Append <i>M</i> to <i>L</i>."], [1, "Return <i>L</i>."], [E-32, "The scope of the <i>assignee</i> is anywhere in the enclosing function."], [E-32, "The <i>assignee</i> is alive precisely during an activation of the enclosing function."], [E-32, "The <i>assignee</i> is a readonly variable."], [E-32, "The <i>condition</i> will be unboxed, if necessary."], [E-32, "Return Type: java.util.List"], [E-32, "Return a new mutable linked-list data-structure.."]], "static-checks" : [["VALUE_REQUIRED", "The type of the <i>modifier</i> must be either a primitive-type or a reference-type.", "null"], ["DUPLICATE_VARIABLE", "The <i>assignee</i> cannot share its name with another variable declared in the same scope.", "null"], ["NO_SUCH_TYPE", "The type specified by <i><i>type</i></i> must exist.", "null"], ["INACCESSIBLE_TYPE", "The type specified by <i><i>type</i></i> must be accessible.", "null"], ["EXPECTED_REFERENCE_TYPE", "The type specified by the <i>type</i> must be a reference-type.", "null"], ["EXPECTED_ITERABLE", "The type of the <i>iterable</i> must be a subtype of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html\">Iterable</a>.", "null"], ["EXPECTED_CONDITION", "The type of <i><i>condition</i></i> must be assignable to type boolean.", "null"]], "example-1" : ["module Main in examples;%0A%0A@Start%0Adefun main (args : String[]) : void%0A{%0A    # Create an iterable that iterates over the interval [0, 100].%0A    val input = F::range(0, 100);%0A%0A    # Select the numbers that are evenly divisible by three. %0A    val selected = [n for n : Integer in input if n &#37; 3 == 0];%0A%0A    # Create a list of lists.%0A    # Each inner list is a number, its square, and its cube.%0A    val output = [[x, (x * x), (x * x * x)] for x : Integer in selected];%0A%0A    F::printlns(output);%0A}", "[0, 0, 0]%0A[3, 9, 27]%0A[6, 36, 216]%0A[9, 81, 729]%0A[12, 144, 1728]%0A[15, 225, 3375]%0A[18, 324, 5832]%0A[21, 441, 9261]%0A[24, 576, 13824]%0A[27, 729, 19683]%0A[30, 900, 27000]%0A[33, 1089, 35937]%0A[36, 1296, 46656]%0A[39, 1521, 59319]%0A[42, 1764, 74088]%0A[45, 2025, 91125]%0A[48, 2304, 110592]%0A[51, 2601, 132651]%0A[54, 2916, 157464]%0A[57, 3249, 185193]%0A[60, 3600, 216000]%0A[63, 3969, 250047]%0A[66, 4356, 287496]%0A[69, 4761, 328509]%0A[72, 5184, 373248]%0A[75, 5625, 421875]%0A[78, 6084, 474552]%0A[81, 6561, 531441]%0A[84, 7056, 592704]%0A[87, 7569, 658503]%0A[90, 8100, 729000]%0A[93, 8649, 804357]%0A[96, 9216, 884736]%0A[99, 9801, 970299]"], "example-2" : ["module Main in examples;%0A%0Aenum PetType (DOG, CAT, CHICKEN, GOAT, SHEEP, DUCK);%0A%0Atuple Pet (name : String, type : PetType);%0A%0A%0A@Start%0Adefun main (args : String[]) : void%0A{%0A    # Create a list of my pets. %0A    val pets = [];%0A%0A    pets.add(new Pet(%22Eyeball%22,    (field PetType::SHEEP)));%0A    pets.add(new Pet(%22Michael%22,    (field PetType::SHEEP)));%0A    pets.add(new Pet(%22Molly%22,      (field PetType::SHEEP)));%0A    pets.add(new Pet(%22Chicky Sr.%22, (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Picky Sr.%22,  (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Daffy%22,      (field PetType::DUCK)));%0A    pets.add(new Pet(%22Sikorsky%22,   (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Lucky%22,      (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Jet%22,        (field PetType::DOG)));%0A    pets.add(new Pet(%22Chicky Jr.%22, (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Picky Jr.%22,  (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Fluffy%22,     (field PetType::CAT)));%0A    pets.add(new Pet(%22Angel%22,      (field PetType::CHICKEN)));%0A    pets.add(new Pet(%22Nanny%22,      (field PetType::GOAT)));%0A%0A    # Select the pets that are chickens. %0A    val chickens = [pet for pet : Pet in pets %0A                         if pet.type() == (field PetType::CHICKEN)];%0A%0A    # Print those pets. %0A    F::printlns(chickens);%0A}", "(Chicky Sr., CHICKEN)%0A(Picky Sr., CHICKEN)%0A(Sikorsky, CHICKEN)%0A(Lucky, CHICKEN)%0A(Chicky Jr., CHICKEN)%0A(Picky Jr., CHICKEN)%0A(Angel, CHICKEN)"] }